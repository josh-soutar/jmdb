(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{Bxyr:function(e,n,t){"use strict";t.r(n);var r=t("MUpH"),a=t("q1tI"),c=t.n(a),i=t("rtU3"),l=t("xMEK"),o=t("/MKj");function u(){var e=Object(r.a)(["\n  display: flex;\n  justify-content: space-between;\n  padding: 1;\n  border-top: ",";\n  font-weight: ",";\n  &:hover {\n    cursor: pointer;\n    background-color: #f7f7f7;\n    font-weight: bold;\n  }\n"]);return u=function(){return e},e}function s(){var e=Object(r.a)(["\n  display: flex;\n  flex-direction: column;\n  border: 1px solid;\n  width: 200px;\n  margin-right: 1;\n"]);return s=function(){return e},e}var d=i.a.div(s()),f=i.a.div(u(),(function(e){return e.first?"0":"1px solid"}),(function(e){return e.selected?"bold":"normal"}));var p=Object(o.b)((function(e){return{search_results:Object.assign({},e).search_results}}),(function(e){return{selectSearchResultCategory:function(n){e({type:"SELECTED_SEARCH_CATEGORY",chosen_category:n})}}}))((function(e){return e&&e.search_results&&e.search_results.sort((function(e,n){return e.order<n.order?-1:e.order>n.order?1:0})),c.a.createElement(d,null,e.search_results&&e.search_results.map((function(n,t){if(n.total_results>0)return c.a.createElement(f,{onClick:function(){var t;t=n.label,e.selectSearchResultCategory(t)},key:n.label,selected:n.selected,first:0===t},c.a.createElement("div",null,n.label),c.a.createElement("div",null,n.total_results))})))}));function b(){var e=Object(r.a)(["\n  ","\n"]);return b=function(){return e},e}function h(){var e=Object(r.a)(["\n  display: flex;\n"]);return h=function(){return e},e}function v(){var e=Object(r.a)(['\n  :before {\n    content: "â€¢";\n    padding: 0 5px;\n    font-weight: bold;\n  }\n']);return v=function(){return e},e}function m(){var e=Object(r.a)(["\n  display: flex;\n"]);return m=function(){return e},e}var g=i.a.div(m()),_=i.a.div(v()),y=i.a.div(h()),w=i.a.div(b(),(function(e){return!e.last&&'\n    padding-right: 5px;\n    :after {\n      content: ",";\n    }\n'}));function E(e){var n=e.department,t=e.known_for;return c.a.createElement(g,null,c.a.createElement("div",null,n),c.a.createElement(_,null),c.a.createElement(y,null,t&&t.map((function(e,n){return c.a.createElement(w,{key:n,last:n+1===t.length},"tv"==e.media_type?e.name:e.title)}))))}var j=t("YwZP");function x(){var e=Object(r.a)(["\n  display: flex;\n  flex-direction: column;\n  flex-basis: 100%;\n  padding: 0 1;\n"]);return x=function(){return e},e}function O(){var e=Object(r.a)(["\n  min-width: 94px;\n  min-height: 141px;\n  background-image: ",";\n  background-size: contain;\n  background-repeat: no-repeat;\n"]);return O=function(){return e},e}function k(){var e=Object(r.a)([""]);return k=function(){return e},e}function S(){var e=Object(r.a)(["\n  opacity: 0.7;\n  padding: 0 1;\n"]);return S=function(){return e},e}function P(){var e=Object(r.a)(["\n  font-weight: bold;\n  padding-bottom: 1;\n"]);return P=function(){return e},e}function A(){var e=Object(r.a)(["\n  display: flex;\n  justify-content: space-between;\n"]);return A=function(){return e},e}function U(){var e=Object(r.a)(["\n  border: 1px solid;\n  margin: ",";\n  display: flex;\n  padding: 1;\n  &:hover {\n    background-color: white;\n    cursor: pointer;\n  }\n"]);return U=function(){return e},e}function R(e){var n,t=e.isFirst,r=e.type,a=e.data,i={name:""};"Movies"==r||"All"===r&&"movie"===a.media_type?(n="Movie",i.name="title",a.imagePath=a.poster_path?"url('https://image.tmdb.org/t/p/w94_and_h141_bestv2"+a.poster_path+"')":"url('https://www.themoviedb.org/assets/2/v4/glyphicons/basic/glyphicons-basic-38-picture-grey-c2ebdbb057f2a7614185931650f8cee23fa137b93812ccb132b9df511df1cfac.svg')"):"TV Shows"===r||"All"===r&&"tv"===a.media_type?(n="TV Show",i.name="name",a.imagePath=a.poster_path?"url('https://image.tmdb.org/t/p/w94_and_h141_bestv2"+a.poster_path+"')":"url('https://www.themoviedb.org/assets/2/v4/glyphicons/basic/glyphicons-basic-38-picture-grey-c2ebdbb057f2a7614185931650f8cee23fa137b93812ccb132b9df511df1cfac.svg')"):("People"===r||"All"===r&&"person"===a.media_type)&&(n="Person",i.name="name",a.imagePath=a.profile_path?"url('https://image.tmdb.org/t/p/w94_and_h141_bestv2"+a.profile_path+"')":"url('https://www.themoviedb.org/assets/2/v4/glyphicons/basic/glyphicons-basic-38-picture-grey-c2ebdbb057f2a7614185931650f8cee23fa137b93812ccb132b9df511df1cfac.svg')");return c.a.createElement(C,{className:"searchResult",isFirst:t,onClick:function(){console.log("in "+r+" onClick",a),"Movies"==r||"All"===r&&"movie"===a.media_type?Object(j.navigate)("/title?type=movies&id="+a.id):"TV Shows"==r||"All"===r&&"tv"===a.media_type?Object(j.navigate)("/title?type=tv&id="+a.id):("People"==r||"All"===r&&"person"===a.media_type)&&Object(j.navigate)("/person?id="+a.id)}},c.a.createElement(V,{imageUrl:a.imagePath}),c.a.createElement(D,null,c.a.createElement(T,null,c.a.createElement(M,null,a[i.name]),"All"==r&&c.a.createElement(q,null,n)),"Person"!==n&&c.a.createElement(F,null,a.overview),"Person"===n&&c.a.createElement(F,null,c.a.createElement(E,{department:a.known_for_department,known_for:a.known_for}))))}var C=i.a.li(U(),(function(e){return e.isFirst?"0 0 10px 0":"10px 0"})),T=i.a.div(A()),M=i.a.div(P()),q=i.a.div(S()),F=i.a.div(k()),V=i.a.div(O(),(function(e){return e.imageUrl})),D=i.a.div(x());function H(){var e=Object(r.a)(["\n  list-style: none;\n  padding: 0;\n"]);return H=function(){return e},e}function L(){var e=Object(r.a)(["\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n"]);return L=function(){return e},e}var J=i.a.div(L()),K=i.a.ul(H());var Y=Object(o.b)((function(e){return{search_results:e.search_results.filter((function(e){return!0===e.selected}))[0]}}))((function(e){var n=e.search_results||"";return c.a.createElement(J,null,c.a.createElement(K,null,n&&n.results.map((function(e,t){return c.a.createElement(R,{isFirst:0===t,type:n.label,data:e,key:t})}))))}));function z(){var e=Object(r.a)(["\n  max-width: 1300px;\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: flex-start;\n"]);return z=function(){return e},e}function B(){var e=Object(r.a)(["\n  display: flex;\n  justify-content: center;\n  padding: 1;\n"]);return B=function(){return e},e}var G=i.a.div(B()),I=i.a.div(z());n.default=Object(o.b)((function(e){return Object.assign({},e)}),(function(e){return{updateSearchResutls:function(n){e({type:"UPDATED_SEARCH_RESULTS",search_results:n})}}}))((function(e){var n=new URLSearchParams(document.location.search.substring(1)).get("query"),t=Object(a.useState)(),r=(t[0],t[1],Object(a.useState)());return r[0],r[1],Object(a.useEffect)((function(){!function(){for(var t=[],r=[{label:"All",api_call:"https://api.themoviedb.org/3/search/multi?api_key=674d2d5130dd9ac19dc844ac2be0895a&language=en-US&query="+n,order:1,selected:!0},{label:"Movies",api_call:"https://api.themoviedb.org/3/search/movie?api_key=674d2d5130dd9ac19dc844ac2be0895a&language=en-US&query="+n,order:2,selected:!1},{label:"TV Shows",api_call:"https://api.themoviedb.org/3/search/tv?api_key=674d2d5130dd9ac19dc844ac2be0895a&language=en-US&query="+n,order:3,selected:!1},{label:"People",api_call:"https://api.themoviedb.org/3/search/person?api_key=674d2d5130dd9ac19dc844ac2be0895a&language=en-US&query="+n,order:4,selected:!1}],a=function(n){var a=r[n];fetch(a.api_call).then((function(e){return e.json()})).then((function(e){e.label=a.label,e.order=a.order,e.selected=a.selected,e.api_call=a.api_call,t.push(e)})).then((function(){t.length==r.length&&e.updateSearchResutls(t)}))},c=0;c<r.length;c++)a(c)}()}),[n]),c.a.createElement(l.a,null,c.a.createElement(G,null,c.a.createElement(I,null,c.a.createElement(p,null),c.a.createElement(Y,null))))}))}}]);
//# sourceMappingURL=component---src-pages-search-js-99d476b29535a67bc843.js.map